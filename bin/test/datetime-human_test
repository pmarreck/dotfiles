#!/usr/bin/env bash

# Source the assert function for testing
. "$HOME/dotfiles/bin/assert"

# Test the datetime-human function
test_datetime_human() {
  # Get the output of the datetime-human function
  local output=$(datetime-human)
  
  # Verify that the output is not empty
  assert "$output" != ""
  
  # Verify that the output contains expected parts of the date format
  # This is a simple check that the function is producing output in the expected format
  echo "$output" | grep -q -E "[A-Za-z]+, [A-Za-z]+ [0-9]+, [0-9]{4} [0-9]{1,2}:[0-9]{2} [AP]M"
  assert "$?" == "0"
}

# Run the test if this script is executed directly
if ! (return 0 2>/dev/null); then
  test_datetime_human
fi
